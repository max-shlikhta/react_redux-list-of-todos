(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},28:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n,s=c(5),r=c.n(s),a=c(3),o=c(12),i=c(2),d=c(7),l=c(15),u=c(16);!function(e){e.AddTodos="addTodos",e.AddUser="addUser",e.ClearUser="clearUser",e.HandleCheck="handleCheck"}(n||(n={}));var j={todos:[],user:null},b=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.AddTodos:return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(o.a)(e.todos),Object(o.a)(t.payload))});case n.HandleCheck:return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.payload?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}))});case n.AddUser:return Object(i.a)(Object(i.a)({},e),{},{user:t.payload});case n.ClearUser:return Object(i.a)(Object(i.a)({},e),{},{user:null});default:return e}}),Object(l.composeWithDevTools)(Object(d.applyMiddleware)(u.a))),O=b,h=(c(25),c(26),c(1)),p=c.n(h),m=c(17),x=c(10),f=c.n(x),v=function(e){return fetch("".concat("https://mate.academy/students-api/","/").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},_=function(e){return{type:n.AddUser,payload:e}},C=function(e){return function(t){(function(e){return v("users/".concat(e))})(e).then((function(e){return t(_(e))})).catch((function(){return t(_(null))}))}},y=function(e){return e.todos},N=function(e){return e.user},T=(c(28),c(0)),U=p.a.memo((function(){var e=Object(a.b)(),t=Object(a.c)(N);return Object(T.jsx)(T.Fragment,{children:t?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{className:"CurrentUser__title",children:Object(T.jsxs)("span",{children:["Selected user:\xa0",t.id]})}),Object(T.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(T.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(T.jsx)("p",{className:"CurrentUser__phone",children:t.phone}),Object(T.jsx)("button",{type:"button",className:"button",onClick:function(){return e({type:n.ClearUser})},children:"Clear"})]}):Object(T.jsx)("p",{className:"CurrentUser__error",children:"User not selected"})})})),g=c(13),k=c(11),L=c.n(k),w=(c(30),c(31),p.a.memo((function(){return Object(T.jsxs)("div",{className:"lds-roller",children:[Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{})]})}))),A=p.a.memo((function(){var e=Object(a.c)(y),t=Object(a.c)(N),c=Object(a.b)(),s=Object(h.useState)(""),r=Object(g.a)(s,2),o=r[0],i=r[1],d=Object(h.useState)("all"),l=Object(g.a)(d,2),u=l[0],j=l[1];Object(h.useEffect)((function(){c(function(){var e=Object(m.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("todos");case 2:s=e.sent,c={type:n.AddTodos,payload:s},t(c);case 5:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var b=Object(h.useMemo)((function(){return e.filter((function(e){var t=o.toLowerCase();if(!e.title.toLowerCase().includes(t))return!1;switch(u){case"active":return!e.completed;case"completed":return e.completed;default:return!0}}))}),[e,u,o]);return Object(T.jsx)(T.Fragment,{children:e.length?Object(T.jsxs)("div",{className:"TodoList",children:[Object(T.jsx)("h2",{children:"Todos:"}),Object(T.jsx)("input",{className:"TodoList__input",type:"text",placeholder:"Search title",value:o,onChange:function(e){i(e.target.value)}}),Object(T.jsxs)("select",{className:"TodoList__input",value:u,onChange:function(e){j(e.target.value)},children:[Object(T.jsx)("option",{value:"all",children:"all"}),Object(T.jsx)("option",{value:"active",children:"active"}),Object(T.jsx)("option",{value:"completed",children:"completed"})]}),Object(T.jsx)("div",{className:"TodoList__list-container",children:Object(T.jsx)("ul",{className:"TodoList__list",children:b.map((function(e){var s=e.id,r=e.completed,a=e.title,o=e.userId;return Object(T.jsxs)("li",{className:L()("TodoList__item",{"TodoList__item--unchecked":!r},{"TodoList__item--checked":r}),children:[Object(T.jsxs)("label",{htmlFor:String(s),children:[Object(T.jsx)("input",{type:"checkbox",id:String(s),defaultChecked:r,onChange:function(){return c((e=s,{type:n.HandleCheck,payload:e}));var e}}),Object(T.jsx)("p",{className:"TodoList__title",children:a})]}),Object(T.jsx)("button",{className:L()("TodoList__user-button",{"TodoList__user-button--selected":t&&o===t.id},"button"),type:"button",onClick:function(){return c(C(o))},children:"User# ".concat(o)})]},s)}))})})]}):Object(T.jsx)(w,{})})})),S=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("div",{className:"App__sidebar",children:Object(T.jsx)(A,{})}),Object(T.jsx)("div",{className:"App__content",children:Object(T.jsx)("div",{className:"App__content-container",children:Object(T.jsx)(U,{})})})]})},F=function(){return Object(T.jsx)(a.a,{store:O,children:Object(T.jsx)(S,{})})};r.a.render(Object(T.jsx)(F,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.eb7bd708.chunk.js.map